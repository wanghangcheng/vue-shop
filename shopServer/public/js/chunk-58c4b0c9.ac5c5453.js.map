{"version":3,"sources":["webpack:///./src/views/login/images/lk_logo_sm.png","webpack:///./src/views/login/images/hide_pwd.png","webpack:///./src/views/login/Login.vue?c9ab","webpack:///./src/views/login/Login.vue?1d3a","webpack:///src/views/login/Login.vue","webpack:///./src/views/login/Login.vue?c202","webpack:///./src/views/login/Login.vue","webpack:///./src/views/login/images/show_pwd.png"],"names":["module","exports","__webpack_require__","p","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_383bba9c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_383bba9c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","class","current","loginMode","attrs","href","on","click","$event","dealLoginMode","_v","directives","name","rawName","value","expression","type","maxlength","placeholder","domProps","input","target","composing","phone","countDown","disabled","_s","phone_right","phoneRight","preventDefault","getVerifyCode","code","user_name","autocomplete","pwd","pwdMode","src","alt","width","dealPwdMode","captcha","ref","getCaptcha","login","$router","back","staticRenderFns","Loginvue_type_script_lang_js_","data","userInfo","computed","test","methods","_objectSpread","Object","vuex_esm","flag","_getVerifyCode","asyncToGenerator","regeneratorRuntime","mark","_callee","result","_this","wrap","_context","prev","next","intervalId","setInterval","clearInterval","api","sent","console","log","stop","apply","arguments","_login","_callee2","_result","_context2","trim","toast","message","duration","abrupt","success_code","syncUserInfo","captchaEle","$refs","$set","Date","login_Loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-58c4b0c9.ac5c5453.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/lk_logo_sm.6059c196.png\";","module.exports = __webpack_public_path__ + \"img/hide_pwd.d20f9390.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=383bba9c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=383bba9c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('div',{staticClass:\"login-inner\"},[_c('div',{staticClass:\"login-header\"},[_vm._m(0),_c('div',{staticClass:\"login-header-title\"},[_c('a',{class:{current: _vm.loginMode},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.dealLoginMode(true)}}},[_vm._v(\"手机登录\")]),_c('a',{class:{current: !_vm.loginMode},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.dealLoginMode(false)}}},[_vm._v(\"密码登录\")])])]),_c('div',{staticClass:\"login-content\"},[_c('form',[_c('div',{class:{current: _vm.loginMode}},[_c('section',{staticClass:\"login-message\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],attrs:{\"type\":\"number\",\"maxlength\":\"11\",\"placeholder\":\"手机号\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}}),(!_vm.countDown)?_c('button',{staticClass:\"get-verification\",class:{phone_right: _vm.phoneRight},on:{\"click\":function($event){$event.preventDefault();return _vm.getVerifyCode()}}},[_vm._v(\"获取验证码\")]):_c('button',{staticClass:\"get-verification\",attrs:{\"disabled\":\"disabled\"}},[_vm._v(\"\\n                            已发送(\"+_vm._s(_vm.countDown)+\"s)\\n                        \")])]),_c('section',{staticClass:\"login-verification\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"type\":\"number\",\"maxlength\":\"8\",\"placeholder\":\"验证码\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}})]),_vm._m(1)]),_c('div',{class:{current: !_vm.loginMode}},[_c('section',[_c('section',{staticClass:\"login-message\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user_name),expression:\"user_name\"}],attrs:{\"type\":\"tel\",\"maxlength\":\"11\",\"placeholder\":\"用户名\"},domProps:{\"value\":(_vm.user_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.user_name=$event.target.value}}})]),_c('section',{staticClass:\"login-verification\"},[(_vm.pwdMode)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pwd),expression:\"pwd\"}],attrs:{\"type\":\"password\",\"maxlength\":\"20\",\"placeholder\":\"密码\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.pwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pwd=$event.target.value}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pwd),expression:\"pwd\"}],attrs:{\"type\":\"text\",\"maxlength\":\"20\",\"placeholder\":\"密码\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.pwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pwd=$event.target.value}}}),_c('div',{staticClass:\"switch-show\"},[_c('img',{class:{on: _vm.pwdMode},attrs:{\"src\":require(\"./images/hide_pwd.png\"),\"alt\":\"\",\"width\":\"20\"},on:{\"click\":function($event){$event.preventDefault();return _vm.dealPwdMode(false)}}}),_c('img',{class:{on: !_vm.pwdMode},attrs:{\"src\":require(\"./images/show_pwd.png\"),\"alt\":\"\",\"width\":\"20\"},on:{\"click\":function($event){$event.preventDefault();return _vm.dealPwdMode(true)}}})])]),_c('section',{staticClass:\"login-message\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.captcha),expression:\"captcha\"}],attrs:{\"type\":\"text\",\"maxlength\":\"4\",\"placeholder\":\"验证码\"},domProps:{\"value\":(_vm.captcha)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.captcha=$event.target.value}}}),_c('img',{ref:\"captcha\",staticClass:\"get-verification\",attrs:{\"src\":\"http://localhost:3000/web/xlmc/api/captcha\",\"alt\":\"captcha\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getCaptcha($event)}}})])])]),_c('button',{staticClass:\"login-submit\",on:{\"click\":function($event){$event.preventDefault();return _vm.login($event)}}},[_vm._v(\"登录\")])]),_c('button',{staticClass:\"login-back\",on:{\"click\":function($event){$event.preventDefault();return _vm.$router.back()}}},[_vm._v(\"返回\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-logo\"},[_c('img',{attrs:{\"src\":require(\"./images/lk_logo_sm.png\"),\"alt\":\"\",\"width\":\"300\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"login-hint\"},[_vm._v(\"\\n                        温馨提示：未注册小撩买菜的手机号，登录时将自动注册，且代表已同意\\n                        \"),_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"服务协议与隐私政策\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login-container\">\r\n        <!--登录面板内容部分-->\r\n        <div class=\"login-inner\">\r\n            <!--面板头部-->\r\n            <div class=\"login-header\">\r\n                <div class=\"login-logo\">\r\n                    <img src=\"./images/lk_logo_sm.png\" alt=\"\" width=\"300\">\r\n                </div>\r\n                <!--面板标题-->\r\n                <div class=\"login-header-title\">\r\n                    <a href=\"javascript:;\" :class=\"{current: loginMode}\" @click=\"dealLoginMode(true)\">手机登录</a>\r\n                    <a href=\"javascript:;\" :class=\"{current: !loginMode}\"  @click=\"dealLoginMode(false)\">密码登录</a>\r\n                </div>\r\n            </div>\r\n            <!--面板表单部分-->\r\n            <div class=\"login-content\">\r\n                <form>\r\n                    <!--手机验证码登录部分-->\r\n                    <div :class=\"{current: loginMode}\">\r\n                        <section class=\"login-message\">\r\n                            <input type=\"number\" maxlength=\"11\" placeholder=\"手机号\" v-model=\"phone\">\r\n                            <button v-if=\"!countDown\" class=\"get-verification\" :class=\"{phone_right: phoneRight}\" @click.prevent=\"getVerifyCode()\">获取验证码</button>\r\n                            <button v-else disabled=\"disabled\" class=\"get-verification\">\r\n                                已发送({{countDown}}s)\r\n                            </button>\r\n                        </section>\r\n                        <section class=\"login-verification\">\r\n                            <input type=\"number\" maxlength=\"8\" placeholder=\"验证码\" v-model=\"code\"/>\r\n                        </section>\r\n                        <section class=\"login-hint\">\r\n                            温馨提示：未注册小撩买菜的手机号，登录时将自动注册，且代表已同意\r\n                            <a href=\"javascript:;\">服务协议与隐私政策</a>\r\n                        </section>\r\n                    </div>\r\n                    <!--账号登录部分-->\r\n                    <div :class=\"{current: !loginMode}\">\r\n                        <section>\r\n                            <section class=\"login-message\">\r\n                                <input type=\"tel\" maxlength=\"11\" placeholder=\"用户名\" v-model=\"user_name\">\r\n                            </section>\r\n                            <section class=\"login-verification\">\r\n                                <input v-if=\"pwdMode\" type=\"password\" maxlength=\"20\" placeholder=\"密码\" autocomplete=\"off\" v-model=\"pwd\"/>\r\n                                <input v-else type=\"text\" maxlength=\"20\" placeholder=\"密码\" autocomplete=\"off\" v-model=\"pwd\"/>\r\n                                <div class=\"switch-show\">\r\n                                    <img src=\"./images/hide_pwd.png\" :class=\"{on: pwdMode}\" @click.prevent=\"dealPwdMode(false)\" alt=\"\" width=\"20\">\r\n                                    <img src=\"./images/show_pwd.png\" :class=\"{on: !pwdMode}\"  @click.prevent=\"dealPwdMode(true)\" alt=\"\" width=\"20\">\r\n                                </div>\r\n                            </section>\r\n                            <section class=\"login-message\">\r\n                                <input type=\"text\" maxlength=\"4\" placeholder=\"验证码\" v-model=\"captcha\">\r\n                                <img\r\n                                    class=\"get-verification\"\r\n                                    src=\"http://localhost:3000/web/xlmc/api/captcha\"\r\n                                    alt=\"captcha\"\r\n                                    @click.prevent=\"getCaptcha\"\r\n                                    ref=\"captcha\"\r\n                                >\r\n                            </section>\r\n                        </section>\r\n                    </div>\r\n                    <button class=\"login-submit\" @click.prevent=\"login\">登录</button>\r\n                </form>\r\n                <button class=\"login-back\" @click.prevent=\"$router.back()\">返回</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {getPhoneCode, phoneCodeLogin, pwdLogin} from './../../service/api/index'\r\n    import {mapActions} from 'vuex'\r\n    import {Toast} from 'vant'\r\n    export default {\r\n        name: \"Login\",\r\n        data(){\r\n            return {\r\n                loginMode: true,  // 登录模式\r\n                phone: null, // 手机号码\r\n                countDown: 0,  // 倒计时\r\n                code: null,  // 手机验证码\r\n                userInfo: null, // 用户信息\r\n\r\n                user_name: null, // 用户名\r\n                pwd: null, // 密码\r\n                pwdMode: true, // true密文 false明文\r\n                captcha: null, // 图形验证码\r\n            }\r\n        },\r\n        computed:{\r\n            // 验证手机号码是否正确\r\n            phoneRight(){\r\n                return /^[1][3,4,5,7,8][0-9]{9}$/.test(this.phone)\r\n            }\r\n        },\r\n        methods: {\r\n            ...mapActions(['syncUserInfo']),\r\n            // 1. 处理登录模式\r\n            dealLoginMode(flag){\r\n                this.loginMode = flag;\r\n            },\r\n            // 2. 获取短信验证码\r\n            async getVerifyCode(){\r\n                // 2.1 过滤\r\n                if(this.phoneRight){\r\n                    this.countDown = 60;\r\n                    // 2.2 倒计时\r\n                    this.intervalId = setInterval(()=>{\r\n                        this.countDown--;\r\n                        if(this.countDown === 0){\r\n                            clearInterval(this.intervalId);\r\n                        }\r\n                    }, 1000);\r\n                    // 2.3 获取短信验证码\r\n                    let result = await getPhoneCode(this.phone);\r\n                    console.log(result);\r\n                }\r\n            },\r\n            // 3. 登录\r\n            async login(){\r\n                // 3.1 判断登录模式\r\n                if(this.loginMode){ // 手机验证码登录\r\n                    // 3.1.1 输入数据校验\r\n                    if(!this.phone.trim()){\r\n                        Toast({\r\n                            message: '请输入手机号码',\r\n                            duration: 500\r\n                        });\r\n                        return;\r\n                    }else if(!this.phoneRight){ // 手机号码不正确\r\n                        Toast({\r\n                            message: '请输入正确的手机号码',\r\n                            duration: 500\r\n                        });\r\n                        return;\r\n                    }\r\n\r\n                    if(!this.code.trim()){\r\n                        Toast({\r\n                            message: '请输入验证码',\r\n                            duration: 500\r\n                        });\r\n                        return;\r\n                    }else if(!(/^\\d{6}$/gi.test(this.code))){ // 验证码不正确\r\n                        Toast({\r\n                            message: '请输入正确的验证码',\r\n                            duration: 500\r\n                        });\r\n                        return;\r\n                    }\r\n\r\n                    // 3.1.2 手机验证码登录\r\n                    let result = await phoneCodeLogin(this.phone, this.code);\r\n                    // console.log(result);\r\n                    if(result.success_code === 200){\r\n                        // 4.1 保存用户信息\r\n                        this.syncUserInfo(result.data);\r\n                        // 4.2 回到主面板\r\n                        this.$router.back();\r\n                    }else {\r\n                        Toast({\r\n                            message: '登录失败，手机号码或者验证码不正确！',\r\n                            duration: 500\r\n                        });\r\n                    }\r\n\r\n                }else {\r\n                    // 3.2 用户名和密码登录\r\n                    if(!this.user_name){\r\n                        Toast({\r\n                            message: '请输入用户名！',\r\n                            duration: 500\r\n                        });\r\n                        return;\r\n                    }else if(!this.pwd){\r\n                        Toast({\r\n                            message: '请输入密码！',\r\n                            duration: 500\r\n                        });\r\n                        return;\r\n                    } else if(!this.captcha){\r\n                        Toast({\r\n                            message: '请输入验证码！',\r\n                            duration: 500\r\n                        });\r\n                        return;\r\n                    }\r\n                    // 3.2.1 发起请求\r\n                    let result = await pwdLogin(this.user_name, this.pwd, this.captcha);\r\n                    // console.log(result);\r\n                    if(result.success_code === 200){\r\n                        // 4.1 保存用户信息\r\n                        this.syncUserInfo(result.data);\r\n                        // 4.2 回到主面板\r\n                        this.$router.back();\r\n                    }else {\r\n                        Toast({\r\n                            message: '登录失败，用户名或者密码不正确！',\r\n                            duration: 500\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n            // 4. 处理密码的显示\r\n            dealPwdMode(flag){\r\n                this.pwdMode = flag;\r\n            },\r\n            // 5. 获取随机图形验证码\r\n            getCaptcha(){\r\n                // 1.获取验证码的标签\r\n                let captchaEle = this.$refs.captcha;\r\n                this.$set(captchaEle, 'src', 'http://localhost:3000/web/xlmc/api/captcha?time=' + new Date());\r\n                // console.log(captchaEle);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .login-container {\r\n        width: 100%;\r\n        height: 100%;\r\n        background: #fff;\r\n    }\r\n\r\n    .login-container .login-inner {\r\n        padding-top: 60px;\r\n        width: 80%;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    .login-container .login-inner .login-header .login-logo {\r\n        font-size: 40px;\r\n        font-weight: bold;\r\n        color: #75a342;\r\n        text-align: center\r\n    }\r\n\r\n    .login-container .login-inner .login-header .login-header-title {\r\n        padding-top: 40px;\r\n        padding-bottom: 10px;\r\n        text-align: center;\r\n    }\r\n\r\n    .login-container .login-inner .login-header .login-header-title > a {\r\n        color: #333;\r\n        font-size: 14px;\r\n        padding-bottom: 4px;\r\n    }\r\n\r\n    .login-container .login-inner .login-header .login-header-title > a:first-child {\r\n        margin-right: 40px\r\n    }\r\n\r\n    .login-container .login-inner .login-header .login-header-title > a.current {\r\n        color: #75a342;\r\n        font-weight: 700;\r\n        border-bottom: 2px solid #75a342\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div {\r\n        display: none;\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div.current {\r\n        display: block\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div input {\r\n        width: 100%;\r\n        height: 100%;\r\n        padding-left: 8px;\r\n        box-sizing: border-box;\r\n        border: 1px solid #ddd;\r\n        border-radius: 4px;\r\n        outline: 0;\r\n        font: 400 14px Arial;\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div input:focus {\r\n        border: 1px solid #75a342\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div .login-message {\r\n        position: relative;\r\n        margin-top: 16px;\r\n        height: 48px;\r\n        font-size: 14px;\r\n        background: #fff;\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div .login-message .get-verification {\r\n        position: absolute;\r\n        top: 50%;\r\n        right: 10px;\r\n        transform: translateY(-50%);\r\n        border: 0;\r\n        color: #ccc;\r\n        font-size: 14px;\r\n        background: transparent;\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div .login-message .get-verification.phone_right {\r\n        color: #75a342\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div .login-verification {\r\n        position: relative;\r\n        margin-top: 16px;\r\n        height: 48px;\r\n        font-size: 14px;\r\n        background: #fff;\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div .login-verification .switch-show {\r\n        position: absolute;\r\n        right: 10px;\r\n        top: 12px;\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div .login-verification .switch-show img {\r\n        display: none\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div .login-verification .switch-show img.on {\r\n        display: block\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div .login-hint {\r\n        margin-top: 12px;\r\n        color: #999;\r\n        font-size: 12px;\r\n        line-height: 20px;\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form > div .login-hint > a {\r\n        color: #75a342\r\n    }\r\n\r\n    .login-container .login-inner .login-content > form .login-submit {\r\n        display: block;\r\n        width: 100%;\r\n        height: 42px;\r\n        margin-top: 30px;\r\n        border-radius: 4px;\r\n        background: #75a342;\r\n        color: #fff;\r\n        text-align: center;\r\n        font-size: 16px;\r\n        line-height: 42px;\r\n        border: 0\r\n    }\r\n\r\n    .login-container .login-inner .login-content .login-back {\r\n        display: block;\r\n        width: 100%;\r\n        height: 42px;\r\n        margin-top: 15px;\r\n        border-radius: 4px;\r\n        background: transparent;\r\n        border: 1px solid #75a342;\r\n        color: #75a342;\r\n        text-align: center;\r\n        font-size: 16px;\r\n        line-height: 42px\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=383bba9c&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=383bba9c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"383bba9c\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/show_pwd.fa936067.png\";"],"sourceRoot":""}